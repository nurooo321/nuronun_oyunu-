<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Uçak Oyunu</title>
    <style>
        body {
            margin: 0;
            overflow: hidden;
            background: #87CEEB;
        }
        #game-container {
            position: relative;
            width: 100vw;
            height: 100vh;
        }
        #hud {
            position: absolute;
            top: 20px;
            left: 20px;
            color: white;
            font-family: Arial, sans-serif;
            font-size: 20px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.5);
            z-index: 100;
            background: rgba(0,0,0,0.5);
            padding: 10px;
            border-radius: 5px;
        }
        #start-screen {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            text-align: center;
            color: white;
            font-family: Arial, sans-serif;
            z-index: 200;
            background: rgba(0,0,0,0.7);
            padding: 20px;
            border-radius: 10px;
        }
        #start-button {
            padding: 15px 30px;
            font-size: 24px;
            background: #4CAF50;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            margin-top: 20px;
        }
        #start-button:hover {
            background: #45a049;
        }
        #game-over {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            text-align: center;
            color: white;
            font-family: Arial, sans-serif;
            z-index: 200;
            display: none;
            background: rgba(0,0,0,0.7);
            padding: 20px;
            border-radius: 10px;
        }
        #restart-button {
            padding: 15px 30px;
            font-size: 24px;
            background: #4CAF50;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            margin-top: 20px;
        }
        #restart-button:hover {
            background: #45a049;
        }
    </style>
</head>
<body>
    <div id="game-container">
        <div id="hud">
            <div>Hız: <span id="speed">0</span> km/s</div>
            <div>Yükseklik: <span id="altitude">0</span> m</div>
            <div>Mesafe: <span id="distance">0</span> km</div>
        </div>
        <div id="start-screen">
            <h1>Uçak Oyunu</h1>
            <p>Kontroller:</p>
            <p>↑ - Kalkış</p>
            <p>← → - Yön Kontrolü</p>
            <button id="start-button">Oyunu Başlat</button>
        </div>
        <div id="game-over">
            <h1>Oyun Bitti!</h1>
            <p>Toplam Mesafe: <span id="final-distance">0</span> km</p>
            <button id="restart-button">Tekrar Oyna</button>
        </div>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <script>
        // Temel değişkenler
        let scene, camera, renderer, plane;
        let isGameStarted = false;
        let isGameOver = false;
        let speed = 0;
        let altitude = 0;
        let distance = 0;
        let obstacles = [];
        let lastObstacleSpawn = 0;
        let isTakingOff = true;
        let takeoffProgress = 0;
        let level = 1;
        let obstaclesPassed = 0;

        // Oyunu başlat
        function init() {
            // Sahne oluştur
            scene = new THREE.Scene();
            scene.background = new THREE.Color(0x1a1a2e); // Koyu mavi arka plan

            // Kamera oluştur
            camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);
            camera.position.set(0, 5, -20);

            // Renderer oluştur
            renderer = new THREE.WebGLRenderer({ antialias: true });
            renderer.setSize(window.innerWidth, window.innerHeight);
            document.getElementById('game-container').appendChild(renderer.domElement);

            // Işık ekle
            const sunLight = new THREE.DirectionalLight(0xffffff, 1);
            sunLight.position.set(100, 100, 50);
            scene.add(sunLight);

            const ambientLight = new THREE.AmbientLight(0x404040, 0.5);
            scene.add(ambientLight);

            // Havaalanı oluştur
            createAirport();
            
            // Uçak oluştur
            createPlane();
            
            // Uçağın başlangıç pozisyonu
            plane.position.set(0, 0, 0);
            plane.rotation.set(0, 0, 0);
            
            // Olay dinleyicileri
            window.addEventListener('resize', onWindowResize);
            document.addEventListener('keydown', onKeyDown);
            document.addEventListener('keyup', onKeyUp);
            document.getElementById('start-button').addEventListener('click', startGame);
            document.getElementById('restart-button').addEventListener('click', restartGame);

            // Animasyon döngüsü
            animate();
        }

        // Havaalanı oluştur
        function createAirport() {
            // Pist
            const runwayGeometry = new THREE.PlaneGeometry(200, 30);
            const runwayMaterial = new THREE.MeshPhongMaterial({ 
                color: 0x333333,
                side: THREE.DoubleSide
            });
            const runway = new THREE.Mesh(runwayGeometry, runwayMaterial);
            runway.rotation.x = -Math.PI / 2;
            runway.position.y = 0.1;
            scene.add(runway);

            // Pist çizgileri
            const lineGeometry = new THREE.PlaneGeometry(3, 30);
            const lineMaterial = new THREE.MeshPhongMaterial({ 
                color: 0xffffff,
                side: THREE.DoubleSide
            });
            for (let i = -80; i <= 80; i += 20) {
                const line = new THREE.Mesh(lineGeometry, lineMaterial);
                line.rotation.x = -Math.PI / 2;
                line.position.set(i, 0.11, 0);
                scene.add(line);
            }

            // Terminal binası
            const terminalGeometry = new THREE.BoxGeometry(40, 15, 30);
            const terminalMaterial = new THREE.MeshPhongMaterial({ color: 0xcccccc });
            const terminal = new THREE.Mesh(terminalGeometry, terminalMaterial);
            terminal.position.set(-100, 7.5, 0);
            scene.add(terminal);

            // Kontrol kulesi
            const towerGeometry = new THREE.CylinderGeometry(8, 8, 30, 8);
            const towerMaterial = new THREE.MeshPhongMaterial({ color: 0x888888 });
            const tower = new THREE.Mesh(towerGeometry, towerMaterial);
            tower.position.set(-100, 20, 30);
            scene.add(tower);

            // İniş ışıkları
            const lightGeometry = new THREE.SphereGeometry(0.5, 8, 8);
            const lightMaterial = new THREE.MeshPhongMaterial({ 
                color: 0x00ff00,
                emissive: 0x00ff00,
                emissiveIntensity: 0.5
            });
            for (let i = -80; i <= 80; i += 20) {
                const light = new THREE.Mesh(lightGeometry, lightMaterial);
                light.position.set(i, 0.5, 15);
                scene.add(light);
            }
        }

        // Uçak oluştur
        function createPlane() {
            const planeGroup = new THREE.Group();

            // Gövde
            const bodyGeometry = new THREE.CylinderGeometry(2, 2, 15, 8);
            const bodyMaterial = new THREE.MeshPhongMaterial({ color: 0xff0000 });
            const body = new THREE.Mesh(bodyGeometry, bodyMaterial);
            body.rotation.x = Math.PI / 2;
            planeGroup.add(body);

            // Kanatlar
            const wingGeometry = new THREE.BoxGeometry(25, 0.5, 4);
            const wingMaterial = new THREE.MeshPhongMaterial({ color: 0xff0000 });
            const wings = new THREE.Mesh(wingGeometry, wingMaterial);
            planeGroup.add(wings);

            // Beyaz çizgiler
            const stripeGeometry = new THREE.BoxGeometry(22, 0.6, 0.2);
            const stripeMaterial = new THREE.MeshPhongMaterial({ color: 0xffffff });
            const stripe = new THREE.Mesh(stripeGeometry, stripeMaterial);
            stripe.position.y = 0.3;
            wings.add(stripe);

            // Kuyruk
            const tailGeometry = new THREE.BoxGeometry(6, 4, 0.5);
            const tail = new THREE.Mesh(tailGeometry, wingMaterial);
            tail.position.set(0, 2, -6);
            planeGroup.add(tail);

            // Kuyruk kanatları
            const tailWingGeometry = new THREE.BoxGeometry(8, 0.5, 2);
            const tailWings = new THREE.Mesh(tailWingGeometry, wingMaterial);
            tailWings.position.set(0, 0, -6);
            planeGroup.add(tailWings);

            plane = planeGroup;
            scene.add(plane);
        }

        // Pencere boyutu değiştiğinde
        function onWindowResize() {
            camera.aspect = window.innerWidth / window.innerHeight;
            camera.updateProjectionMatrix();
            renderer.setSize(window.innerWidth, window.innerHeight);
        }

        // Tuş basıldığında
        function onKeyDown(event) {
            if (!isGameStarted || isGameOver) return;

            switch(event.key) {
                case 'ArrowUp':
                    if (isTakingOff) {
                        takeoffProgress += 0.005;
                        if (takeoffProgress >= 1) {
                            isTakingOff = false;
                            speed = 15;
                        }
                    } else if (altitude < 100) {
                        altitude += 0.5;
                        plane.position.y = altitude;
                    }
                    break;
                case 'ArrowLeft':
                    if (!isTakingOff) {
                        plane.position.x -= 2;
                        plane.rotation.z = 0.2;
                    }
                    break;
                case 'ArrowRight':
                    if (!isTakingOff) {
                        plane.position.x += 2;
                        plane.rotation.z = -0.2;
                    }
                    break;
                case ' ':
                    if (!isTakingOff && speed < 100) {
                        speed += 0.3;
                    }
                    break;
                case 'Shift':
                    if (!isTakingOff && speed > 10) {
                        speed -= 0.3;
                    }
                    break;
            }
        }

        // Tuş bırakıldığında
        function onKeyUp(event) {
            if (!isGameStarted || isGameOver) return;

            if (event.key === 'ArrowLeft' || event.key === 'ArrowRight') {
                plane.rotation.z = 0;
            }
        }

        // Oyunu başlat
        function startGame() {
            isGameStarted = true;
            isTakingOff = true;
            takeoffProgress = 0;
            document.getElementById('start-screen').style.display = 'none';
        }

        // Oyunu yeniden başlat
        function restartGame() {
            isGameOver = false;
            isTakingOff = true;
            takeoffProgress = 0;
            speed = 0;
            altitude = 0;
            distance = 0;
            plane.position.set(0, 0, 0);
            plane.rotation.set(0, 0, 0);
            document.getElementById('game-over').style.display = 'none';
            document.getElementById('start-screen').style.display = 'block';
        }

        // Engel oluştur
        function createObstacle() {
            const obstacleGroup = new THREE.Group();
            
            const bodyGeometry = new THREE.BoxGeometry(30, 30, 30);
            const bodyMaterial = new THREE.MeshPhongMaterial({ 
                color: 0x666666,
                transparent: true,
                opacity: 0.95
            });
            const body = new THREE.Mesh(bodyGeometry, bodyMaterial);
            obstacleGroup.add(body);

            const detailGeometry = new THREE.BoxGeometry(35, 5, 35);
            const detailMaterial = new THREE.MeshPhongMaterial({ 
                color: 0x444444,
                transparent: true,
                opacity: 0.95
            });
            const detail = new THREE.Mesh(detailGeometry, detailMaterial);
            detail.position.y = 17.5;
            obstacleGroup.add(detail);

            const lightGeometry = new THREE.SphereGeometry(1.5, 16, 16);
            const lightMaterial = new THREE.MeshPhongMaterial({ 
                color: 0xff0000,
                emissive: 0xff0000,
                emissiveIntensity: 1
            });
            
            for (let i = -12; i <= 12; i += 6) {
                const topLight = new THREE.Mesh(lightGeometry, lightMaterial);
                topLight.position.set(i, 17.5, 0);
                obstacleGroup.add(topLight);
            }
            
            for (let i = -12; i <= 12; i += 6) {
                const sideLight = new THREE.Mesh(lightGeometry, lightMaterial);
                sideLight.position.set(i, 0, 0);
                obstacleGroup.add(sideLight);
            }

            obstacleGroup.position.z = plane.position.z + 150;
            obstacleGroup.position.y = 25;
            obstacleGroup.position.x = Math.random() * 40 - 20;
            
            scene.add(obstacleGroup);
            obstacles.push(obstacleGroup);
        }

        // Engelleri güncelle
        function updateObstacles() {
            const currentTime = Date.now();
            
            if (currentTime - lastObstacleSpawn > 2000) {
                createObstacle();
                lastObstacleSpawn = currentTime;
            }
            
            obstacles.forEach((obstacle, index) => {
                obstacle.position.z -= speed * 0.05;
                
                obstacle.children.forEach(child => {
                    if (child.material && child.material.emissive) {
                        child.material.emissiveIntensity = 1 + Math.sin(Date.now() * 0.01) * 0.5;
                    }
                });
                
                const xDiff = Math.abs(plane.position.x - obstacle.position.x);
                const yDiff = Math.abs(plane.position.y - obstacle.position.y);
                const zDiff = Math.abs(plane.position.z - obstacle.position.z);
                
                if (xDiff < 15 && yDiff < 15 && zDiff < 15) {
                    gameOver();
                }
                
                if (obstacle.position.z < plane.position.z - 10 && !obstacle.passed) {
                    obstacle.passed = true;
                    obstaclesPassed++;
                    if (obstaclesPassed >= 5) {
                        levelUp();
                    }
                }
                
                if (obstacle.position.z < plane.position.z - 50) {
                    scene.remove(obstacle);
                    obstacles.splice(index, 1);
                }
            });
        }

        // Oyun sonu
        function gameOver() {
            isGameOver = true;
            document.getElementById('final-distance').textContent = Math.round(distance);
            document.getElementById('game-over').style.display = 'block';
        }

        // Seviye atlama
        function levelUp() {
            level++;
            obstaclesPassed = 0;
            speed += 5;
            // Seviye atlama efekti
            const levelUpDiv = document.createElement('div');
            levelUpDiv.style.position = 'absolute';
            levelUpDiv.style.top = '50%';
            levelUpDiv.style.left = '50%';
            levelUpDiv.style.transform = 'translate(-50%, -50%)';
            levelUpDiv.style.color = '#4CAF50';
            levelUpDiv.style.fontSize = '48px';
            levelUpDiv.style.fontFamily = 'Arial';
            levelUpDiv.style.textShadow = '2px 2px 4px rgba(0,0,0,0.5)';
            levelUpDiv.textContent = `Seviye ${level}!`;
            document.getElementById('game-container').appendChild(levelUpDiv);
            setTimeout(() => levelUpDiv.remove(), 2000);
        }

        // Animasyon döngüsü
        function animate() {
            requestAnimationFrame(animate);

            if (isGameStarted && !isGameOver) {
                if (isTakingOff) {
                    // Kalkış animasyonu
                    plane.position.y = takeoffProgress * 50;
                    plane.rotation.x = -takeoffProgress * 0.5;
                    altitude = plane.position.y;
                    speed = takeoffProgress * 50;
                } else {
                    // Normal uçuş
                    plane.position.z += speed * 0.1;
                    distance += speed * 0.01;
                }

                // HUD'u güncelle
                document.getElementById('speed').textContent = Math.round(speed);
                document.getElementById('altitude').textContent = Math.round(altitude);
                document.getElementById('distance').textContent = Math.round(distance);

                // Kamera takibi
                camera.position.z = plane.position.z - 20;
                camera.position.y = plane.position.y + 5;
                camera.lookAt(plane.position);

                // Engelleri güncelle
                if (!isTakingOff) {
                    updateObstacles();
                }
            }

            renderer.render(scene, camera);
        }

        // Oyunu başlat
        init();
    </script>
</body>
</html> 